<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Rewind Theater</title>
		
		<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico" />
		<link rel="icon" type="image/png" href="images/favicon128.png" />
		<meta name="theme-color" content="#2a4060" />
		<link rel="manifest" href="manifest.webapp" />
		
		<link rel="stylesheet" type="text/css" href="styles.css" />
		<script type="text/javascript" src="video.js"></script>
		<script type="text/javascript" src="annotate.js"></script>
		<script type="text/javascript" src="keyboard.js"></script>
		
		<script type="text/javascript">
			if (!!navigator.serviceWorker && !!window.Cache && !!Cache.prototype.addAll) {
				navigator.serviceWorker.register('/service_worker.js').then(function () {
					console.log('Service worker registered.');
				}).catch(function () {
					console.log('Service worker failed to register.');
				});
			} else {
				console.log('Service worker caching not supported.');
			}
		</script>
	</head>
	<body>
		<video id="vid"></video>
		<div id="canvas" touch-action="none"></div>
		<div id="toolbar">
			<div>
				<input type="file" accept="video/*" id="vid-upload" />
				<button id="upload-btn" title="Open video">
					<svg role="img">
						<title>Open video</title>
						<use xlink:href="images/icons/open.svg#icon" href="images/icons/open.svg#icon"></use>
					</svg>
				</button>
			</div>
			<div>
				&nbsp;
				<button id="rect-btn" title="Rectangle (R)">
					<svg role="img">
						<title>Rectangle</title>
						<use xlink:href="images/icons/rect.svg#icon" href="images/icons/rect.svg#icon"></use>
					</svg>
				</button>
				<button id="ellipse-btn" title="Ellipse (E or O)">
					<svg role="img">
						<title>Ellipse</title>
						<use xlink:href="images/icons/circle.svg#icon" href="images/icons/circle.svg#icon"></use>
					</svg>
				</button>
				<button id="clear-btn" title="Clear (C or Esc)">
					<svg role="img">
						<title>Clear all</title>
						<use xlink:href="images/icons/clear.svg#icon" href="images/icons/clear.svg#icon"></use>
					</svg>
				</button>
			</div>
			<div>
				<button id="rew-btn" title="Rewind (J or &larr;)">
					<svg role="img">
						<title>Rewind</title>
						<use xlink:href="images/icons/rewind.svg#icon" href="images/icons/rewind.svg#icon"></use>
					</svg>
				</button>
				<button id="play-pause-btn" title="Play/Pause (K or Space)">
					<svg role="img" id="play-icon">
						<title>Play</title>
						<use xlink:href="images/icons/play.svg#icon" href="images/icons/play.svg#icon"></use>
					</svg>
					<svg role="img" id="pause-icon" style="display: none;">
						<title>Pause</title>
						<use xlink:href="images/icons/pause.svg#icon" href="images/icons/pause.svg#icon"></use>
					</svg>
				</button>
				<button id="fwd-btn" title="Fast forward (L or &rarr;)">
					<svg role="img">
						<title>Fast forward</title>
						<use xlink:href="images/icons/fast_forward.svg#icon" href="images/icons/fast_forward.svg#icon"></use>
					</svg>
				</button>
			</div>
			<button id="hide-toolbar-btn" title="Hide toolbar (T to show/hide)">
				<svg role="img" style="transform: rotateZ(180deg);">
					<title>Hide toolbar</title>
					<use xlink:href="images/icons/caret_down.svg#icon" href="images/icons/caret_down.svg#icon"></use>
				</svg>
			</button>
		</div>
	</body>
</html>
